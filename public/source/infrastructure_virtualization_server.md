# 仮想サーバ（仮想マシン）

## 01. Providerによる仮想サーバ（仮想マシン）の構築

![Vagrantの仕組み_オリジナル](https://user-images.githubusercontent.com/42175286/60393574-b18de200-9b52-11e9-803d-ef44d6e50b08.png)

<br>

### Providerの操作

#### ・Providerとは

基本ソフトウェアにおける制御プログラムや一連のハードウェアを仮想的に構築できる．これを，仮想サーバ（仮想マシンとも）という．構築方法の違いによって，『ホスト型』，『ハイパーバイザ型』に分類できる．

<br>

### Provisionerの操作

#### ・Provisionerとは

Providerによって構築された仮想サーバに，Web開発のためのソフトウェアをインストールすることができる（構成管理することができる）．具体的には，プログラミング言語やファイアウォールをインストールする．

<br>

### VagrantによるProviderとProvisionerの操作

#### ・Vagrantとは

ProviderとProvisionerの操作を自動化できる．チームメンバーが別々に仮想サーバを構築する場合，ProviderとProvisionerの処理によって作られる仮想サーバの環境に，違いが生じてしまう．Vagrantを使う場合，ProviderとProvisionerによる処理方法は，Vagrantfileに記述されている．このために，Vagrantを用いれば，チームメンバーが同じソフトウェアの下で，仮想サーバを構築し，ソフトウェアをインストールすることができる．

#### ・サーバの情報の管理方法

サーバの情報は，ENVファイルで以下の様に管理する．

```dotenv
#=======================================
# Webサーバ情報
#=======================================
WEB_HOST="XXX.X.X.X"

#=======================================
# データベースサーバ情報
#=======================================
DB_HOST="YYY.Y.Y.Y"
DB_NAME="example"
DB_USER="hiroki"
DB_PASSWORD="12345"
```

#### ・主な```vagrant```コマンド

| コマンド                        | 処理                       |
| ------------------------------- | :------------------------- |
| **```vagrant up```**            | 仮想サーバ起動             |
| **```vagrant halt```**          | 仮想サーバ停止             |
| **```vagrant ssh```**           | 仮想サーバへのリモート接続 |
| **```vagrant global-status```** | 起動中仮想サーバの一覧     |

<br>

## 02. Symfonyによるビルトインサーバの構築
